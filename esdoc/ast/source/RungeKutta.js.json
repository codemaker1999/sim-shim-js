{
  "type": "Program",
  "body": [],
  "sourceType": "module",
  "range": [
    1791,
    1791
  ],
  "loc": {
    "start": {
      "line": 71,
      "column": 0
    },
    "end": {
      "line": 71,
      "column": 0
    }
  },
  "leadingComments": [
    {
      "type": "Line",
      "value": " import {zip} from 'UtilFunctional';",
      "range": [
        0,
        38
      ],
      "loc": {
        "start": {
          "line": 1,
          "column": 0
        },
        "end": {
          "line": 1,
          "column": 38
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        39,
        41
      ],
      "loc": {
        "start": {
          "line": 2,
          "column": 0
        },
        "end": {
          "line": 2,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " class RungeKutta {",
      "range": [
        42,
        63
      ],
      "loc": {
        "start": {
          "line": 3,
          "column": 0
        },
        "end": {
          "line": 3,
          "column": 21
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        64,
        66
      ],
      "loc": {
        "start": {
          "line": 4,
          "column": 0
        },
        "end": {
          "line": 4,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   /*|",
      "range": [
        67,
        75
      ],
      "loc": {
        "start": {
          "line": 5,
          "column": 0
        },
        "end": {
          "line": 5,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  Creates an explicit Runge Kutta solver given a Butcher Tableau.",
      "range": [
        76,
        149
      ],
      "loc": {
        "start": {
          "line": 6,
          "column": 0
        },
        "end": {
          "line": 6,
          "column": 73
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|",
      "range": [
        150,
        158
      ],
      "loc": {
        "start": {
          "line": 7,
          "column": 0
        },
        "end": {
          "line": 7,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  'A' is the Runge-Kutta matrix",
      "range": [
        159,
        198
      ],
      "loc": {
        "start": {
          "line": 8,
          "column": 0
        },
        "end": {
          "line": 8,
          "column": 39
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  'b' is the vector of weights",
      "range": [
        199,
        237
      ],
      "loc": {
        "start": {
          "line": 9,
          "column": 0
        },
        "end": {
          "line": 9,
          "column": 38
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  'c' is the vector of nodes",
      "range": [
        238,
        274
      ],
      "loc": {
        "start": {
          "line": 10,
          "column": 0
        },
        "end": {
          "line": 10,
          "column": 36
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  'h' is the step size",
      "range": [
        275,
        305
      ],
      "loc": {
        "start": {
          "line": 11,
          "column": 0
        },
        "end": {
          "line": 11,
          "column": 30
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|",
      "range": [
        306,
        314
      ],
      "loc": {
        "start": {
          "line": 12,
          "column": 0
        },
        "end": {
          "line": 12,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  A must be a lower triangular matrix of size n by n",
      "range": [
        315,
        375
      ],
      "loc": {
        "start": {
          "line": 13,
          "column": 0
        },
        "end": {
          "line": 13,
          "column": 60
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  b and c must be dimension n",
      "range": [
        376,
        413
      ],
      "loc": {
        "start": {
          "line": 14,
          "column": 0
        },
        "end": {
          "line": 14,
          "column": 37
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*/",
      "range": [
        414,
        422
      ],
      "loc": {
        "start": {
          "line": 15,
          "column": 0
        },
        "end": {
          "line": 15,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        423,
        425
      ],
      "loc": {
        "start": {
          "line": 16,
          "column": 0
        },
        "end": {
          "line": 16,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   constructor (A, b, c, h) {",
      "range": [
        426,
        457
      ],
      "loc": {
        "start": {
          "line": 17,
          "column": 0
        },
        "end": {
          "line": 17,
          "column": 31
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.A = A;",
      "range": [
        458,
        476
      ],
      "loc": {
        "start": {
          "line": 18,
          "column": 0
        },
        "end": {
          "line": 18,
          "column": 18
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.b = b;",
      "range": [
        477,
        495
      ],
      "loc": {
        "start": {
          "line": 19,
          "column": 0
        },
        "end": {
          "line": 19,
          "column": 18
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.c = c;",
      "range": [
        496,
        514
      ],
      "loc": {
        "start": {
          "line": 20,
          "column": 0
        },
        "end": {
          "line": 20,
          "column": 18
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.h = h;",
      "range": [
        515,
        533
      ],
      "loc": {
        "start": {
          "line": 21,
          "column": 0
        },
        "end": {
          "line": 21,
          "column": 18
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.n = A.length;",
      "range": [
        534,
        559
      ],
      "loc": {
        "start": {
          "line": 22,
          "column": 0
        },
        "end": {
          "line": 22,
          "column": 25
        }
      }
    },
    {
      "type": "Line",
      "value": "   }",
      "range": [
        560,
        566
      ],
      "loc": {
        "start": {
          "line": 23,
          "column": 0
        },
        "end": {
          "line": 23,
          "column": 6
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        567,
        569
      ],
      "loc": {
        "start": {
          "line": 24,
          "column": 0
        },
        "end": {
          "line": 24,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   // compute one step. supplied f must have signature f(t,vector)",
      "range": [
        570,
        638
      ],
      "loc": {
        "start": {
          "line": 25,
          "column": 0
        },
        "end": {
          "line": 25,
          "column": 68
        }
      }
    },
    {
      "type": "Line",
      "value": "   step (f,t,y) {",
      "range": [
        639,
        658
      ],
      "loc": {
        "start": {
          "line": 26,
          "column": 0
        },
        "end": {
          "line": 26,
          "column": 19
        }
      }
    },
    {
      "type": "Line",
      "value": "     ks = [];",
      "range": [
        659,
        674
      ],
      "loc": {
        "start": {
          "line": 27,
          "column": 0
        },
        "end": {
          "line": 27,
          "column": 15
        }
      }
    },
    {
      "type": "Line",
      "value": "     for (var i = 0; i < this.n; i++) {",
      "range": [
        675,
        716
      ],
      "loc": {
        "start": {
          "line": 28,
          "column": 0
        },
        "end": {
          "line": 28,
          "column": 41
        }
      }
    },
    {
      "type": "Line",
      "value": "       let ti = t + this.c[i] * this.h,",
      "range": [
        717,
        758
      ],
      "loc": {
        "start": {
          "line": 29,
          "column": 0
        },
        "end": {
          "line": 29,
          "column": 41
        }
      }
    },
    {
      "type": "Line",
      "value": "           yi = y + this.h * ks.reduce( (acc,ki,j)=>{",
      "range": [
        759,
        814
      ],
      "loc": {
        "start": {
          "line": 30,
          "column": 0
        },
        "end": {
          "line": 30,
          "column": 55
        }
      }
    },
    {
      "type": "Line",
      "value": "             return acc + this.A[i][j] * ki;",
      "range": [
        815,
        861
      ],
      "loc": {
        "start": {
          "line": 31,
          "column": 0
        },
        "end": {
          "line": 31,
          "column": 46
        }
      }
    },
    {
      "type": "Line",
      "value": "           }, 0);",
      "range": [
        862,
        881
      ],
      "loc": {
        "start": {
          "line": 32,
          "column": 0
        },
        "end": {
          "line": 32,
          "column": 19
        }
      }
    },
    {
      "type": "Line",
      "value": "       ks.push( f(ti,yi) );",
      "range": [
        882,
        911
      ],
      "loc": {
        "start": {
          "line": 33,
          "column": 0
        },
        "end": {
          "line": 33,
          "column": 29
        }
      }
    },
    {
      "type": "Line",
      "value": "     }",
      "range": [
        912,
        920
      ],
      "loc": {
        "start": {
          "line": 34,
          "column": 0
        },
        "end": {
          "line": 34,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "     return y + h * zip(this.b,ks).reduce((acc,tup)=>{",
      "range": [
        921,
        977
      ],
      "loc": {
        "start": {
          "line": 35,
          "column": 0
        },
        "end": {
          "line": 35,
          "column": 56
        }
      }
    },
    {
      "type": "Line",
      "value": "       return acc + tup[0]*tup[1];",
      "range": [
        978,
        1014
      ],
      "loc": {
        "start": {
          "line": 36,
          "column": 0
        },
        "end": {
          "line": 36,
          "column": 36
        }
      }
    },
    {
      "type": "Line",
      "value": "     },0);",
      "range": [
        1015,
        1027
      ],
      "loc": {
        "start": {
          "line": 37,
          "column": 0
        },
        "end": {
          "line": 37,
          "column": 12
        }
      }
    },
    {
      "type": "Line",
      "value": "   }",
      "range": [
        1028,
        1034
      ],
      "loc": {
        "start": {
          "line": 38,
          "column": 0
        },
        "end": {
          "line": 38,
          "column": 6
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1035,
        1037
      ],
      "loc": {
        "start": {
          "line": 39,
          "column": 0
        },
        "end": {
          "line": 39,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   // checks the condition for a consistent RK method (google it...)",
      "range": [
        1038,
        1108
      ],
      "loc": {
        "start": {
          "line": 40,
          "column": 0
        },
        "end": {
          "line": 40,
          "column": 70
        }
      }
    },
    {
      "type": "Line",
      "value": "   isConsistent () {",
      "range": [
        1109,
        1131
      ],
      "loc": {
        "start": {
          "line": 41,
          "column": 0
        },
        "end": {
          "line": 41,
          "column": 22
        }
      }
    },
    {
      "type": "Line",
      "value": "     let bools = this.a.reduce( (vec,row,i)=>{",
      "range": [
        1132,
        1180
      ],
      "loc": {
        "start": {
          "line": 42,
          "column": 0
        },
        "end": {
          "line": 42,
          "column": 48
        }
      }
    },
    {
      "type": "Line",
      "value": "       let rowsum = row.reduce( (sum,aij,j)=>{",
      "range": [
        1181,
        1229
      ],
      "loc": {
        "start": {
          "line": 43,
          "column": 0
        },
        "end": {
          "line": 43,
          "column": 48
        }
      }
    },
    {
      "type": "Line",
      "value": "         if (j < i) return sum + aij;",
      "range": [
        1230,
        1269
      ],
      "loc": {
        "start": {
          "line": 44,
          "column": 0
        },
        "end": {
          "line": 44,
          "column": 39
        }
      }
    },
    {
      "type": "Line",
      "value": "         else return sum;",
      "range": [
        1270,
        1297
      ],
      "loc": {
        "start": {
          "line": 45,
          "column": 0
        },
        "end": {
          "line": 45,
          "column": 27
        }
      }
    },
    {
      "type": "Line",
      "value": "       }, 0 );",
      "range": [
        1298,
        1314
      ],
      "loc": {
        "start": {
          "line": 46,
          "column": 0
        },
        "end": {
          "line": 46,
          "column": 16
        }
      }
    },
    {
      "type": "Line",
      "value": "       vec.push( c[i] == rowsum );",
      "range": [
        1315,
        1351
      ],
      "loc": {
        "start": {
          "line": 47,
          "column": 0
        },
        "end": {
          "line": 47,
          "column": 36
        }
      }
    },
    {
      "type": "Line",
      "value": "     }, [] );",
      "range": [
        1352,
        1367
      ],
      "loc": {
        "start": {
          "line": 48,
          "column": 0
        },
        "end": {
          "line": 48,
          "column": 15
        }
      }
    },
    {
      "type": "Line",
      "value": "     return bools.reduce( (acc,bool)=>{ return acc && bool }, true )",
      "range": [
        1368,
        1438
      ],
      "loc": {
        "start": {
          "line": 49,
          "column": 0
        },
        "end": {
          "line": 49,
          "column": 70
        }
      }
    },
    {
      "type": "Line",
      "value": "   }",
      "range": [
        1439,
        1445
      ],
      "loc": {
        "start": {
          "line": 50,
          "column": 0
        },
        "end": {
          "line": 50,
          "column": 6
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1446,
        1448
      ],
      "loc": {
        "start": {
          "line": 51,
          "column": 0
        },
        "end": {
          "line": 51,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " }",
      "range": [
        1449,
        1453
      ],
      "loc": {
        "start": {
          "line": 52,
          "column": 0
        },
        "end": {
          "line": 52,
          "column": 4
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1454,
        1456
      ],
      "loc": {
        "start": {
          "line": 53,
          "column": 0
        },
        "end": {
          "line": 53,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " class RK4 extends RungeKutta {",
      "range": [
        1457,
        1490
      ],
      "loc": {
        "start": {
          "line": 54,
          "column": 0
        },
        "end": {
          "line": 54,
          "column": 33
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1491,
        1493
      ],
      "loc": {
        "start": {
          "line": 55,
          "column": 0
        },
        "end": {
          "line": 55,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   // The classic Runge-Kutta 4 method",
      "range": [
        1494,
        1534
      ],
      "loc": {
        "start": {
          "line": 56,
          "column": 0
        },
        "end": {
          "line": 56,
          "column": 40
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1535,
        1537
      ],
      "loc": {
        "start": {
          "line": 57,
          "column": 0
        },
        "end": {
          "line": 57,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   constructor (h) {",
      "range": [
        1538,
        1560
      ],
      "loc": {
        "start": {
          "line": 58,
          "column": 0
        },
        "end": {
          "line": 58,
          "column": 22
        }
      }
    },
    {
      "type": "Line",
      "value": "     A = [",
      "range": [
        1561,
        1573
      ],
      "loc": {
        "start": {
          "line": 59,
          "column": 0
        },
        "end": {
          "line": 59,
          "column": 12
        }
      }
    },
    {
      "type": "Line",
      "value": "       [0,   0,   0, 0],",
      "range": [
        1574,
        1600
      ],
      "loc": {
        "start": {
          "line": 60,
          "column": 0
        },
        "end": {
          "line": 60,
          "column": 26
        }
      }
    },
    {
      "type": "Line",
      "value": "       [0.5, 0,   0, 0],",
      "range": [
        1601,
        1627
      ],
      "loc": {
        "start": {
          "line": 61,
          "column": 0
        },
        "end": {
          "line": 61,
          "column": 26
        }
      }
    },
    {
      "type": "Line",
      "value": "       [0,   0.5, 0, 0],",
      "range": [
        1628,
        1654
      ],
      "loc": {
        "start": {
          "line": 62,
          "column": 0
        },
        "end": {
          "line": 62,
          "column": 26
        }
      }
    },
    {
      "type": "Line",
      "value": "       [0,   0,   1, 0]",
      "range": [
        1655,
        1680
      ],
      "loc": {
        "start": {
          "line": 63,
          "column": 0
        },
        "end": {
          "line": 63,
          "column": 25
        }
      }
    },
    {
      "type": "Line",
      "value": "     ];",
      "range": [
        1681,
        1690
      ],
      "loc": {
        "start": {
          "line": 64,
          "column": 0
        },
        "end": {
          "line": 64,
          "column": 9
        }
      }
    },
    {
      "type": "Line",
      "value": "     b = [1/6, 1/3, 1/3, 1/6];",
      "range": [
        1691,
        1723
      ],
      "loc": {
        "start": {
          "line": 65,
          "column": 0
        },
        "end": {
          "line": 65,
          "column": 32
        }
      }
    },
    {
      "type": "Line",
      "value": "     c = [0, 0.5, 0.5, 1];",
      "range": [
        1724,
        1752
      ],
      "loc": {
        "start": {
          "line": 66,
          "column": 0
        },
        "end": {
          "line": 66,
          "column": 28
        }
      }
    },
    {
      "type": "Line",
      "value": "     super(A,b,c,h);",
      "range": [
        1753,
        1775
      ],
      "loc": {
        "start": {
          "line": 67,
          "column": 0
        },
        "end": {
          "line": 67,
          "column": 22
        }
      }
    },
    {
      "type": "Line",
      "value": "   }",
      "range": [
        1776,
        1782
      ],
      "loc": {
        "start": {
          "line": 68,
          "column": 0
        },
        "end": {
          "line": 68,
          "column": 6
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1783,
        1785
      ],
      "loc": {
        "start": {
          "line": 69,
          "column": 0
        },
        "end": {
          "line": 69,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " }",
      "range": [
        1786,
        1790
      ],
      "loc": {
        "start": {
          "line": 70,
          "column": 0
        },
        "end": {
          "line": 70,
          "column": 4
        }
      }
    }
  ],
  "comments": [
    {
      "type": "Line",
      "value": " import {zip} from 'UtilFunctional';",
      "range": [
        0,
        38
      ],
      "loc": {
        "start": {
          "line": 1,
          "column": 0
        },
        "end": {
          "line": 1,
          "column": 38
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        39,
        41
      ],
      "loc": {
        "start": {
          "line": 2,
          "column": 0
        },
        "end": {
          "line": 2,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " class RungeKutta {",
      "range": [
        42,
        63
      ],
      "loc": {
        "start": {
          "line": 3,
          "column": 0
        },
        "end": {
          "line": 3,
          "column": 21
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        64,
        66
      ],
      "loc": {
        "start": {
          "line": 4,
          "column": 0
        },
        "end": {
          "line": 4,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   /*|",
      "range": [
        67,
        75
      ],
      "loc": {
        "start": {
          "line": 5,
          "column": 0
        },
        "end": {
          "line": 5,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  Creates an explicit Runge Kutta solver given a Butcher Tableau.",
      "range": [
        76,
        149
      ],
      "loc": {
        "start": {
          "line": 6,
          "column": 0
        },
        "end": {
          "line": 6,
          "column": 73
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|",
      "range": [
        150,
        158
      ],
      "loc": {
        "start": {
          "line": 7,
          "column": 0
        },
        "end": {
          "line": 7,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  'A' is the Runge-Kutta matrix",
      "range": [
        159,
        198
      ],
      "loc": {
        "start": {
          "line": 8,
          "column": 0
        },
        "end": {
          "line": 8,
          "column": 39
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  'b' is the vector of weights",
      "range": [
        199,
        237
      ],
      "loc": {
        "start": {
          "line": 9,
          "column": 0
        },
        "end": {
          "line": 9,
          "column": 38
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  'c' is the vector of nodes",
      "range": [
        238,
        274
      ],
      "loc": {
        "start": {
          "line": 10,
          "column": 0
        },
        "end": {
          "line": 10,
          "column": 36
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  'h' is the step size",
      "range": [
        275,
        305
      ],
      "loc": {
        "start": {
          "line": 11,
          "column": 0
        },
        "end": {
          "line": 11,
          "column": 30
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|",
      "range": [
        306,
        314
      ],
      "loc": {
        "start": {
          "line": 12,
          "column": 0
        },
        "end": {
          "line": 12,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  A must be a lower triangular matrix of size n by n",
      "range": [
        315,
        375
      ],
      "loc": {
        "start": {
          "line": 13,
          "column": 0
        },
        "end": {
          "line": 13,
          "column": 60
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*|  b and c must be dimension n",
      "range": [
        376,
        413
      ],
      "loc": {
        "start": {
          "line": 14,
          "column": 0
        },
        "end": {
          "line": 14,
          "column": 37
        }
      }
    },
    {
      "type": "Line",
      "value": "   |*/",
      "range": [
        414,
        422
      ],
      "loc": {
        "start": {
          "line": 15,
          "column": 0
        },
        "end": {
          "line": 15,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        423,
        425
      ],
      "loc": {
        "start": {
          "line": 16,
          "column": 0
        },
        "end": {
          "line": 16,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   constructor (A, b, c, h) {",
      "range": [
        426,
        457
      ],
      "loc": {
        "start": {
          "line": 17,
          "column": 0
        },
        "end": {
          "line": 17,
          "column": 31
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.A = A;",
      "range": [
        458,
        476
      ],
      "loc": {
        "start": {
          "line": 18,
          "column": 0
        },
        "end": {
          "line": 18,
          "column": 18
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.b = b;",
      "range": [
        477,
        495
      ],
      "loc": {
        "start": {
          "line": 19,
          "column": 0
        },
        "end": {
          "line": 19,
          "column": 18
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.c = c;",
      "range": [
        496,
        514
      ],
      "loc": {
        "start": {
          "line": 20,
          "column": 0
        },
        "end": {
          "line": 20,
          "column": 18
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.h = h;",
      "range": [
        515,
        533
      ],
      "loc": {
        "start": {
          "line": 21,
          "column": 0
        },
        "end": {
          "line": 21,
          "column": 18
        }
      }
    },
    {
      "type": "Line",
      "value": "     this.n = A.length;",
      "range": [
        534,
        559
      ],
      "loc": {
        "start": {
          "line": 22,
          "column": 0
        },
        "end": {
          "line": 22,
          "column": 25
        }
      }
    },
    {
      "type": "Line",
      "value": "   }",
      "range": [
        560,
        566
      ],
      "loc": {
        "start": {
          "line": 23,
          "column": 0
        },
        "end": {
          "line": 23,
          "column": 6
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        567,
        569
      ],
      "loc": {
        "start": {
          "line": 24,
          "column": 0
        },
        "end": {
          "line": 24,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   // compute one step. supplied f must have signature f(t,vector)",
      "range": [
        570,
        638
      ],
      "loc": {
        "start": {
          "line": 25,
          "column": 0
        },
        "end": {
          "line": 25,
          "column": 68
        }
      }
    },
    {
      "type": "Line",
      "value": "   step (f,t,y) {",
      "range": [
        639,
        658
      ],
      "loc": {
        "start": {
          "line": 26,
          "column": 0
        },
        "end": {
          "line": 26,
          "column": 19
        }
      }
    },
    {
      "type": "Line",
      "value": "     ks = [];",
      "range": [
        659,
        674
      ],
      "loc": {
        "start": {
          "line": 27,
          "column": 0
        },
        "end": {
          "line": 27,
          "column": 15
        }
      }
    },
    {
      "type": "Line",
      "value": "     for (var i = 0; i < this.n; i++) {",
      "range": [
        675,
        716
      ],
      "loc": {
        "start": {
          "line": 28,
          "column": 0
        },
        "end": {
          "line": 28,
          "column": 41
        }
      }
    },
    {
      "type": "Line",
      "value": "       let ti = t + this.c[i] * this.h,",
      "range": [
        717,
        758
      ],
      "loc": {
        "start": {
          "line": 29,
          "column": 0
        },
        "end": {
          "line": 29,
          "column": 41
        }
      }
    },
    {
      "type": "Line",
      "value": "           yi = y + this.h * ks.reduce( (acc,ki,j)=>{",
      "range": [
        759,
        814
      ],
      "loc": {
        "start": {
          "line": 30,
          "column": 0
        },
        "end": {
          "line": 30,
          "column": 55
        }
      }
    },
    {
      "type": "Line",
      "value": "             return acc + this.A[i][j] * ki;",
      "range": [
        815,
        861
      ],
      "loc": {
        "start": {
          "line": 31,
          "column": 0
        },
        "end": {
          "line": 31,
          "column": 46
        }
      }
    },
    {
      "type": "Line",
      "value": "           }, 0);",
      "range": [
        862,
        881
      ],
      "loc": {
        "start": {
          "line": 32,
          "column": 0
        },
        "end": {
          "line": 32,
          "column": 19
        }
      }
    },
    {
      "type": "Line",
      "value": "       ks.push( f(ti,yi) );",
      "range": [
        882,
        911
      ],
      "loc": {
        "start": {
          "line": 33,
          "column": 0
        },
        "end": {
          "line": 33,
          "column": 29
        }
      }
    },
    {
      "type": "Line",
      "value": "     }",
      "range": [
        912,
        920
      ],
      "loc": {
        "start": {
          "line": 34,
          "column": 0
        },
        "end": {
          "line": 34,
          "column": 8
        }
      }
    },
    {
      "type": "Line",
      "value": "     return y + h * zip(this.b,ks).reduce((acc,tup)=>{",
      "range": [
        921,
        977
      ],
      "loc": {
        "start": {
          "line": 35,
          "column": 0
        },
        "end": {
          "line": 35,
          "column": 56
        }
      }
    },
    {
      "type": "Line",
      "value": "       return acc + tup[0]*tup[1];",
      "range": [
        978,
        1014
      ],
      "loc": {
        "start": {
          "line": 36,
          "column": 0
        },
        "end": {
          "line": 36,
          "column": 36
        }
      }
    },
    {
      "type": "Line",
      "value": "     },0);",
      "range": [
        1015,
        1027
      ],
      "loc": {
        "start": {
          "line": 37,
          "column": 0
        },
        "end": {
          "line": 37,
          "column": 12
        }
      }
    },
    {
      "type": "Line",
      "value": "   }",
      "range": [
        1028,
        1034
      ],
      "loc": {
        "start": {
          "line": 38,
          "column": 0
        },
        "end": {
          "line": 38,
          "column": 6
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1035,
        1037
      ],
      "loc": {
        "start": {
          "line": 39,
          "column": 0
        },
        "end": {
          "line": 39,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   // checks the condition for a consistent RK method (google it...)",
      "range": [
        1038,
        1108
      ],
      "loc": {
        "start": {
          "line": 40,
          "column": 0
        },
        "end": {
          "line": 40,
          "column": 70
        }
      }
    },
    {
      "type": "Line",
      "value": "   isConsistent () {",
      "range": [
        1109,
        1131
      ],
      "loc": {
        "start": {
          "line": 41,
          "column": 0
        },
        "end": {
          "line": 41,
          "column": 22
        }
      }
    },
    {
      "type": "Line",
      "value": "     let bools = this.a.reduce( (vec,row,i)=>{",
      "range": [
        1132,
        1180
      ],
      "loc": {
        "start": {
          "line": 42,
          "column": 0
        },
        "end": {
          "line": 42,
          "column": 48
        }
      }
    },
    {
      "type": "Line",
      "value": "       let rowsum = row.reduce( (sum,aij,j)=>{",
      "range": [
        1181,
        1229
      ],
      "loc": {
        "start": {
          "line": 43,
          "column": 0
        },
        "end": {
          "line": 43,
          "column": 48
        }
      }
    },
    {
      "type": "Line",
      "value": "         if (j < i) return sum + aij;",
      "range": [
        1230,
        1269
      ],
      "loc": {
        "start": {
          "line": 44,
          "column": 0
        },
        "end": {
          "line": 44,
          "column": 39
        }
      }
    },
    {
      "type": "Line",
      "value": "         else return sum;",
      "range": [
        1270,
        1297
      ],
      "loc": {
        "start": {
          "line": 45,
          "column": 0
        },
        "end": {
          "line": 45,
          "column": 27
        }
      }
    },
    {
      "type": "Line",
      "value": "       }, 0 );",
      "range": [
        1298,
        1314
      ],
      "loc": {
        "start": {
          "line": 46,
          "column": 0
        },
        "end": {
          "line": 46,
          "column": 16
        }
      }
    },
    {
      "type": "Line",
      "value": "       vec.push( c[i] == rowsum );",
      "range": [
        1315,
        1351
      ],
      "loc": {
        "start": {
          "line": 47,
          "column": 0
        },
        "end": {
          "line": 47,
          "column": 36
        }
      }
    },
    {
      "type": "Line",
      "value": "     }, [] );",
      "range": [
        1352,
        1367
      ],
      "loc": {
        "start": {
          "line": 48,
          "column": 0
        },
        "end": {
          "line": 48,
          "column": 15
        }
      }
    },
    {
      "type": "Line",
      "value": "     return bools.reduce( (acc,bool)=>{ return acc && bool }, true )",
      "range": [
        1368,
        1438
      ],
      "loc": {
        "start": {
          "line": 49,
          "column": 0
        },
        "end": {
          "line": 49,
          "column": 70
        }
      }
    },
    {
      "type": "Line",
      "value": "   }",
      "range": [
        1439,
        1445
      ],
      "loc": {
        "start": {
          "line": 50,
          "column": 0
        },
        "end": {
          "line": 50,
          "column": 6
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1446,
        1448
      ],
      "loc": {
        "start": {
          "line": 51,
          "column": 0
        },
        "end": {
          "line": 51,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " }",
      "range": [
        1449,
        1453
      ],
      "loc": {
        "start": {
          "line": 52,
          "column": 0
        },
        "end": {
          "line": 52,
          "column": 4
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1454,
        1456
      ],
      "loc": {
        "start": {
          "line": 53,
          "column": 0
        },
        "end": {
          "line": 53,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " class RK4 extends RungeKutta {",
      "range": [
        1457,
        1490
      ],
      "loc": {
        "start": {
          "line": 54,
          "column": 0
        },
        "end": {
          "line": 54,
          "column": 33
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1491,
        1493
      ],
      "loc": {
        "start": {
          "line": 55,
          "column": 0
        },
        "end": {
          "line": 55,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   // The classic Runge-Kutta 4 method",
      "range": [
        1494,
        1534
      ],
      "loc": {
        "start": {
          "line": 56,
          "column": 0
        },
        "end": {
          "line": 56,
          "column": 40
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1535,
        1537
      ],
      "loc": {
        "start": {
          "line": 57,
          "column": 0
        },
        "end": {
          "line": 57,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": "   constructor (h) {",
      "range": [
        1538,
        1560
      ],
      "loc": {
        "start": {
          "line": 58,
          "column": 0
        },
        "end": {
          "line": 58,
          "column": 22
        }
      }
    },
    {
      "type": "Line",
      "value": "     A = [",
      "range": [
        1561,
        1573
      ],
      "loc": {
        "start": {
          "line": 59,
          "column": 0
        },
        "end": {
          "line": 59,
          "column": 12
        }
      }
    },
    {
      "type": "Line",
      "value": "       [0,   0,   0, 0],",
      "range": [
        1574,
        1600
      ],
      "loc": {
        "start": {
          "line": 60,
          "column": 0
        },
        "end": {
          "line": 60,
          "column": 26
        }
      }
    },
    {
      "type": "Line",
      "value": "       [0.5, 0,   0, 0],",
      "range": [
        1601,
        1627
      ],
      "loc": {
        "start": {
          "line": 61,
          "column": 0
        },
        "end": {
          "line": 61,
          "column": 26
        }
      }
    },
    {
      "type": "Line",
      "value": "       [0,   0.5, 0, 0],",
      "range": [
        1628,
        1654
      ],
      "loc": {
        "start": {
          "line": 62,
          "column": 0
        },
        "end": {
          "line": 62,
          "column": 26
        }
      }
    },
    {
      "type": "Line",
      "value": "       [0,   0,   1, 0]",
      "range": [
        1655,
        1680
      ],
      "loc": {
        "start": {
          "line": 63,
          "column": 0
        },
        "end": {
          "line": 63,
          "column": 25
        }
      }
    },
    {
      "type": "Line",
      "value": "     ];",
      "range": [
        1681,
        1690
      ],
      "loc": {
        "start": {
          "line": 64,
          "column": 0
        },
        "end": {
          "line": 64,
          "column": 9
        }
      }
    },
    {
      "type": "Line",
      "value": "     b = [1/6, 1/3, 1/3, 1/6];",
      "range": [
        1691,
        1723
      ],
      "loc": {
        "start": {
          "line": 65,
          "column": 0
        },
        "end": {
          "line": 65,
          "column": 32
        }
      }
    },
    {
      "type": "Line",
      "value": "     c = [0, 0.5, 0.5, 1];",
      "range": [
        1724,
        1752
      ],
      "loc": {
        "start": {
          "line": 66,
          "column": 0
        },
        "end": {
          "line": 66,
          "column": 28
        }
      }
    },
    {
      "type": "Line",
      "value": "     super(A,b,c,h);",
      "range": [
        1753,
        1775
      ],
      "loc": {
        "start": {
          "line": 67,
          "column": 0
        },
        "end": {
          "line": 67,
          "column": 22
        }
      }
    },
    {
      "type": "Line",
      "value": "   }",
      "range": [
        1776,
        1782
      ],
      "loc": {
        "start": {
          "line": 68,
          "column": 0
        },
        "end": {
          "line": 68,
          "column": 6
        }
      }
    },
    {
      "type": "Line",
      "value": "",
      "range": [
        1783,
        1785
      ],
      "loc": {
        "start": {
          "line": 69,
          "column": 0
        },
        "end": {
          "line": 69,
          "column": 2
        }
      }
    },
    {
      "type": "Line",
      "value": " }",
      "range": [
        1786,
        1790
      ],
      "loc": {
        "start": {
          "line": 70,
          "column": 0
        },
        "end": {
          "line": 70,
          "column": 4
        }
      }
    }
  ]
}